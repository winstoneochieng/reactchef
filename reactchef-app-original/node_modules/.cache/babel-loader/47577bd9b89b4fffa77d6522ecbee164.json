{"ast":null,"code":"import _toConsumableArray from\"/home/winstone/reactchef/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/winstone/reactchef/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import RecipeList from'./components/RecipeList';import RecipeEdit from'./components/RecipeEdit';import'./css/app.css';// import uuidv4 from 'uuid/v4'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var RecipeContext=/*#__PURE__*/React.createContext();var LOCAL_STORAGE_KEY='reactchef.recipes';function App(){var _useState=useState(sampleRecipes),_useState2=_slicedToArray(_useState,2),recipes=_useState2[0],setRecipes=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),selectedRecipeId=_useState4[0],setSelectedRecipeId=_useState4[1];var selectedRecipe=recipes.find(function(recipe){return recipe.id===selectedRecipeId;});useEffect(function(){var recipeJSON=localStorage.getItem(LOCAL_STORAGE_KEY);if(recipeJSON!=null)setRecipes(JSON.parse(recipeJSON));},[]);useEffect(function(){localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(recipes));},[recipes]);var recipeContextValue={handleRecipeAdd:handleRecipeAdd,handleRecipeDelete:handleRecipeDelete,handleRecipeSelect:handleRecipeSelect,handleRecipeChange:handleRecipeChange};function handleRecipeSelect(id){setSelectedRecipeId(id);}function handleRecipeAdd(){var newRecipe={id:Date.now().toString(),name:'New',servings:1,cookTime:'',instructions:'',ingredients:[{id:Date.now().toString(),name:'',amount:''}]};setSelectedRecipeId(newRecipe.id);setRecipes([].concat(_toConsumableArray(recipes),[newRecipe]));}function handleRecipeChange(id,recipe){var newRecipes=_toConsumableArray(recipes);var index=newRecipes.findIndex(function(r){return r.id===id;});newRecipes[index]=recipe;setRecipes(newRecipes);}function handleRecipeDelete(id){if(selectedRecipeId!=null&&selectedRecipeId===id){setSelectedRecipeId(undefined);}setRecipes(recipes.filter(function(recipe){return recipe.id!==id;}));}return/*#__PURE__*/_jsxs(RecipeContext.Provider,{value:recipeContextValue,children:[/*#__PURE__*/_jsx(RecipeList,{recipes:recipes}),selectedRecipe&&/*#__PURE__*/_jsx(RecipeEdit,{recipe:selectedRecipe})]});}var sampleRecipes=[{id:1,name:'Plain Chicken',servings:3,cookTime:'0:45',instructions:\"1. Put salt on chicken\\n2. Put chicken in oven\\n3. Eat chicken\",ingredients:[{id:1,name:'Chicken',amount:'2 pounds'},{id:2,name:'Salt',amount:'0.5 Tbs'}]},{id:2,name:'Plain Pork',servings:5,cookTime:'0:45',instructions:\"1. Put salt on Paprika\\n2. Put Pork in pot\\n3. Eat Pork\",ingredients:[{id:1,name:'Pork',amount:'1 kg'},{id:2,name:'Salt',amount:'1 Tbs'}]}];export default App;","map":{"version":3,"sources":["/home/winstone/reactchef/src/App.js"],"names":["React","useState","useEffect","RecipeList","RecipeEdit","RecipeContext","createContext","LOCAL_STORAGE_KEY","App","sampleRecipes","recipes","setRecipes","selectedRecipeId","setSelectedRecipeId","selectedRecipe","find","recipe","id","recipeJSON","localStorage","getItem","JSON","parse","setItem","stringify","recipeContextValue","handleRecipeAdd","handleRecipeDelete","handleRecipeSelect","handleRecipeChange","newRecipe","Date","now","toString","name","servings","cookTime","instructions","ingredients","amount","newRecipes","index","findIndex","r","undefined","filter"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport RecipeList from './components/RecipeList'\nimport RecipeEdit from './components/RecipeEdit'\nimport './css/app.css'\n// import uuidv4 from 'uuid/v4'\n\nexport const RecipeContext = React.createContext()\nconst LOCAL_STORAGE_KEY = 'reactchef.recipes'\n\nfunction App() {\n  const [recipes, setRecipes] = useState(sampleRecipes)\n  const [selectedRecipeId, setSelectedRecipeId] = useState()\n  const selectedRecipe = recipes.find(recipe => recipe.id === selectedRecipeId)\n \n  useEffect(() => {\n    const recipeJSON = localStorage.getItem(LOCAL_STORAGE_KEY)\n    if(recipeJSON != null) setRecipes(JSON.parse(recipeJSON))\n  }, [])\n\n  useEffect(() => {\n    localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(recipes))\n  }, [recipes])\n\n  \n\n  const recipeContextValue = {\n    handleRecipeAdd,\n    handleRecipeDelete,\n    handleRecipeSelect,\n    handleRecipeChange\n  }\n\n  function handleRecipeSelect(id) {\n    setSelectedRecipeId(id)\n  }\n\n  function handleRecipeAdd() {\n    const newRecipe = {\n      id: Date.now().toString(),\n      name: 'New',\n      servings: 1,\n      cookTime: '',\n      instructions: '',\n      ingredients: [\n        { id: Date.now().toString(), name: '', amount: ''}\n      ]\n  \n    }\n    setSelectedRecipeId(newRecipe.id)\n    setRecipes([...recipes, newRecipe])\n  }\n\n  function handleRecipeChange(id, recipe) {\n    const newRecipes = [...recipes]\n    const index = newRecipes.findIndex(r => r.id === id)\n    newRecipes[index] = recipe\n    setRecipes(newRecipes)\n  }\n\n  function handleRecipeDelete(id) {\n    if(selectedRecipeId != null && selectedRecipeId === id) {\n      setSelectedRecipeId(undefined)\n    }\n    setRecipes(recipes.filter(recipe => recipe.id !== id))\n  }\n\n\n  return (\n    <RecipeContext.Provider value={recipeContextValue}>\n      <RecipeList recipes={recipes} />\n      {selectedRecipe && <RecipeEdit recipe={selectedRecipe}/>}\n\n    </RecipeContext.Provider>\n      \n  );\n\n  \n}\n\nconst sampleRecipes = [\n  {\n  id: 1,\n  name: 'Plain Chicken',\n  servings: 3,\n  cookTime: '0:45',\n  instructions: \"1. Put salt on chicken\\n2. Put chicken in oven\\n3. Eat chicken\",\n  ingredients: [\n    {\n      id: 1,\n      name: 'Chicken',\n      amount: '2 pounds'\n    },\n    {\n      id: 2,\n      name: 'Salt',\n      amount: '0.5 Tbs'\n    }\n  ]\n  \n},\n  {\n    id: 2,\n    name: 'Plain Pork',\n    servings: 5,\n    cookTime: '0:45',\n    instructions: \"1. Put salt on Paprika\\n2. Put Pork in pot\\n3. Eat Pork\",\n    ingredients: [\n      {\n        id: 1,\n        name: 'Pork',\n        amount: '1 kg'\n      },\n      {\n        id: 2,\n        name: 'Salt',\n        amount: '1 Tbs'\n      }\n    ]\n    },\n\n]\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}